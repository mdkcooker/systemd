From 41a529835aedba02f8b7b5de3680a30e4d7186c9 Mon Sep 17 00:00:00 2001
From: Lennart Poettering <lennart@poettering.net>
Date: Fri, 26 Oct 2012 01:07:41 +0200
Subject: [PATCH 142/204] journal: properly determine cutoff max date (cherry
 picked from commit 0f91dd8749c1a1ec308cc645269be92166413e38)

---
 src/journal/sd-journal.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/journal/sd-journal.c b/src/journal/sd-journal.c
index 09b0eb8..d5d2d78 100644
--- a/src/journal/sd-journal.c
+++ b/src/journal/sd-journal.c
@@ -2121,7 +2121,7 @@ _public_ int sd_journal_get_cutoff_realtime_usec(sd_journal *j, uint64_t *from,
                         if (from)
                                 *from = MIN(fr, *from);
                         if (to)
-                                *to = MIN(t, *to);
+                                *to = MAX(t, *to);
                 }
         }
 
@@ -2160,7 +2160,7 @@ _public_ int sd_journal_get_cutoff_monotonic_usec(sd_journal *j, sd_id128_t boot
                         if (from)
                                 *from = MIN(fr, *from);
                         if (to)
-                                *to = MIN(t, *to);
+                                *to = MAX(t, *to);
                 }
         }
 
-- 
1.8.1.5

