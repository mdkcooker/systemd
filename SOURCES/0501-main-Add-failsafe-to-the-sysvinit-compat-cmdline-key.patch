From 2648012347eace70619b1c73f892aad7cc55732d Mon Sep 17 00:00:00 2001
From: Colin Guthrie <colin@mageia.org>
Date: Sun, 26 Feb 2012 17:45:58 +0000
Subject: [PATCH 501/509] main: Add 'failsafe' to the sysvinit compat cmdline
 keywords.

This is just a synonym for systemd.unit=rescue.target (the
same as the current keyword 'single').

This is used in Mageia and Mandriva (mga#4702)
---
 src/core/main.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/core/main.c b/src/core/main.c
index 58c3a9e..d0765cd 100644
--- a/src/core/main.c
+++ b/src/core/main.c
@@ -259,6 +259,7 @@ static int parse_proc_cmdline_word(const char *word) {
         static const char * const rlmap[] = {
                 "emergency", SPECIAL_EMERGENCY_TARGET,
                 "-b",        SPECIAL_EMERGENCY_TARGET,
+                "failsafe",  SPECIAL_RESCUE_TARGET,
                 "single",    SPECIAL_RESCUE_TARGET,
                 "-s",        SPECIAL_RESCUE_TARGET,
                 "s",         SPECIAL_RESCUE_TARGET,
-- 
1.8.4.5

