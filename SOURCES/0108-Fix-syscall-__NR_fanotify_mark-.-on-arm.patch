From 163ad7eabffb0202fb6303a9a36e8386564ca0f9 Mon Sep 17 00:00:00 2001
From: Chengwei Yang <chengwei.yang@intel.com>
Date: Tue, 14 May 2013 09:03:04 +0800
Subject: [PATCH 108/160] Fix syscall(__NR_fanotify_mark, ...) on arm

(cherry picked from commit 28f30cf274398ab80c71ea0c2afec4b94f8ba76e)
---
 src/shared/missing.h | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/shared/missing.h b/src/shared/missing.h
index d4ba0d3..96e6d63 100644
--- a/src/shared/missing.h
+++ b/src/shared/missing.h
@@ -138,7 +138,8 @@ static inline int fanotify_init(unsigned int flags, unsigned int event_f_flags)
 #ifndef HAVE_FANOTIFY_MARK
 static inline int fanotify_mark(int fanotify_fd, unsigned int flags, uint64_t mask,
                                 int dfd, const char *pathname) {
-#if defined _MIPS_SIM && _MIPS_SIM == _MIPS_SIM_ABI32 || defined __powerpc__ && !defined __powerpc64__
+#if defined _MIPS_SIM && _MIPS_SIM == _MIPS_SIM_ABI32 || defined __powerpc__ && !defined __powerpc64__ \
+	|| defined __arm__ && !defined __aarch64__
         union {
                 uint64_t _64;
                 uint32_t _32[2];
-- 
1.8.3.1

