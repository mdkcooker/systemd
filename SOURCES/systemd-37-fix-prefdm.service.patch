From 8946f1cbdf9885319fa165313f02026f39d36b64 Mon Sep 17 00:00:00 2001
From: Colin Guthrie <colin@mageia.org>
Date: Fri, 4 Nov 2011 00:28:35 +0000
Subject: [PATCH] Mageia: Change the unit for prefdm.service to make it work a
 bit more like Fedora

---
 units/mageia/prefdm.service |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/units/mageia/prefdm.service b/units/mageia/prefdm.service
index 4a896bf..b31e952 100644
--- a/units/mageia/prefdm.service
+++ b/units/mageia/prefdm.service
@@ -8,14 +8,13 @@
 [Unit]
 Description=Display Manager
 After=livesys-late.service rc-local.service systemd-user-sessions.service
-After=network.target acpid.service fs.service haldaemon.service
+After=network.target
 
 # Do not stop plymouth, it is done in prefdm if required
 Conflicts=plymouth-quit.service
 After=plymouth-quit.service
 
 [Service]
-ExecStart=/etc/X11/prefdm
-Type=forking
+ExecStart=/etc/X11/prefdm -nodaemon
 Restart=always
 RestartSec=0
-- 
1.7.7.2

